<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Создать тест по тексту и документу | Онлайн бесплатно с результатами | Летучка</title>
    <meta name="description" content="Генератор тестов по тексту и файлам онлайн. Создайте тест с автопроверкой и PDF за 30 секунд бесплатно. Без регистрации!">
    <meta name="keywords" content="создать тест, создать тест по тексту онлайн, создать тест онлайн с результатами бесплатно, составление тестов онлайн для студентов, создать тест онлайн бесплатно, составить тест по тексту онлайн, создать тест онлайн, создать свой тест">
    <meta name="csrf-token" content="{{ csrf_token }}">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://letychka.ru">
    <meta property="og:title" content="Создать тест по тексту и файлам. Создайте тест с ответами, автопроверкой и экспортом в PDF. Без регистрации. | Летучка">
    <meta property="og:description" content="Генератор тестов по тексту и файлам онлайн. Создайте тест с автопроверкой и PDF за 30 секунд бесплатно. Без регистрации!">
    <meta property="og:image" content="https://letychka.ru/static/letychka-banner-1703.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Летучка – создание тестов с помощью ИИ">
    <meta name="theme-color" content="#0F0818">
    <link rel="canonical" href="https://letychka.ru" />
    
    <meta name="twitter:card" content="https://letychka.ru/static/letychka-banner-1703.webp"/>
    <meta name="twitter:image" content="https://letychka.ru/static/letychka-banner-1703.webp"/>

    <link rel="canonical" href="https://letychka.ru" />
    <link rel="icon" href="{% static 'img/favicon.ico' %}" type="image/ico">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}">
    <!-- <link rel="stylesheet" href="{% static 'css/start.css' %}?v=3.25"> -->

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --color-bg: #0F0818;
            --color-surface: rgba(30, 24, 48, 0.5);
            --color-border: rgba(97, 109, 240, 0.2);
            --color-text-primary: #f0f0f0;
            --color-text-secondary: #a0a0b0;
            --color-accent-primary: #616DF0;
            --color-accent-secondary: #79EF66;
            --color-text-on-accent: #ffffff;
        }

       @font-face {
            font-family: 'Unbounded Medium';
            src: url("{% static 'fonts/Unbounded-Medium.ttf' %}") format('truetype');
        }

        body { background-color: var(--color-bg); color: var(--color-text-primary); font-family: 'Inter', sans-serif; }

        h1, h2, h3 {
            font-family: 'Unbounded Medium';
        }

        .highlight { color: var(--color-accent-secondary); }
        .gradient-text {
            background: linear-gradient(45deg, var(--color-accent-primary), var(--color-accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        input[type="range"] { -webkit-appearance: none; appearance: none; background: transparent; cursor: pointer; }
        input[type="range"]::-webkit-slider-runnable-track { background: var(--color-bg); border: 1px solid var(--color-border); border-radius: 9999px; height: 0.5rem; }
        input[type="range"]::-moz-range-track { background: var(--color-bg); border: 1px solid var(--color-border); border-radius: 9999px; height: 0.5rem; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; margin-top: -6px; background-color: var(--color-accent-secondary); border: 2px solid var(--color-bg); height: 1.25rem; width: 1.25rem; border-radius: 9999px; transition: transform .2s ease; }
        input[type="range"]::-moz-range-thumb { background-color: var(--color-accent-secondary); border: 2px solid var(--color-bg); height: 1.25rem; width: 1.25rem; border-radius: 9999px; transition: transform .2s ease; }
        
        #glass-alert {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(200%);
            background: rgba(64, 13, 132, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 9999px;
            border: 1px solid var(--color-border);
            z-index: 100;
            transition: transform 0.4s ease-in-out;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        #glass-alert.visible { transform: translateX(-50%) translateY(0); }
        .glass-alert__close { background: none; border: none; color: var(--color-text-secondary); font-size: 1.5rem; cursor: pointer; line-height: 1; }
        
        #main-header {
            transition: padding 0.3s ease-in-out, background-color 0.3s ease, box-shadow 0.3s ease, top 0.3s ease-in-out;
            max-width: max-content;
            border-radius: 9999px;
            margin: 0 auto;
            top: 32px;
            padding: 0.5rem;
        }
        
        #main-header.scrolled {
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
            background-color: rgba(20, 18, 23, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: 0 8px 32px rgba(62, 30, 112, 0.3);
            top: 12px;
            z-index: 50;
        }
        
        /* Плавность для внутренних элементов */
        #main-header .logo-img, #main-header .nav-link, #main-header .cta-btn, #main-header .main-nav {
            transition: all 0.3s ease-in-out;
        }
        #main-header .main-nav {
            padding: 0 64px;
        }
        #main-header.scrolled .main-nav {
            padding: 0 32px;
        }

        /* СТИЛИ ДЛЯ МОБИЛЬНОГО МЕНЮ */
        #mobile-menu {
            max-width: 100%;
            position: absolute;
            top: calc(100% + 0.5rem);
            right: 0;
            opacity: 0;
            transform-origin: top right;
            transform: scale(0.95);
            pointer-events: none;
            transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
        }

        #mobile-menu.menu-open {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }

        @media screen and (width <= 600px) {
            #main-header {
                max-width: 100%;
            }
        }

        /* Стили для рабочего переключателя */
        #pricing-toggle:checked + .toggler {
            background-color: var(--color-accent-primary);
        }
        #pricing-toggle:checked + .toggler .dot {
            transform: translateX(100%);
            background-color: white;
        }
        /* Градиент и свечение для премиум-карты */
        .premium-card {
            background: linear-gradient(145deg, var(--color-surface), #2c204c);
            position: relative;
            overflow: hidden;
        }
        .premium-card::before {
            content: '';
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            background: radial-gradient(circle at 30% 107%, rgba(97, 109, 240, 0.4), transparent 40%);
            z-index: 1;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .premium-card:hover::before {
            opacity: 1;
        }
        .premium-card-content {
            position: relative;
            z-index: 2;
        }
        
        details[open] summary .icon-plus { display: none; }
        details:not([open]) summary .icon-minus { display: none; }

        #animated-headline-text {
            -webkit-text-fill-color: transparent;
            transition: background 0.5s ease-in-out;
        }
        @keyframes blink { 50% { opacity: 0; } }
        #animated-headline-cursor {
            animation: blink 1.2s step-end infinite;
        }

        .toggle-input:checked + label .toggler { 
            background-color: var(--color-accent-primary); 
        }
        .toggle-input:checked + label .toggler .dot { 
            transform: translateX(100%); 
            background-color: white; 
        }
        .toggle-input + label {
            display: inline-block;
        }
    </style>
    
   <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        setTimeout(function() {
            (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
            (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        
            ym(98823704, "init", {
                clickmap:true,
                trackLinks:true,
                accurateTrackBounce:true,
                webvisor:true
            });
        }, 1000);
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/98823704" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>
<body class="min-h-screen">
    
    <header id="main-header" class="sticky z-50">
        <div class="relative max-w-6xl mx-auto px-4 sm:px-8">
            <div class="flex justify-between items-center">
                
                <a href="/" class="flex-shrink-0">
                    <img src="{% static 'img/logo-header.webp' %}" alt="Летучка Логотип" class="logo-img w-32 md:w-32 h-auto">
                </a>

                <nav class="main-nav hidden lg:flex items-center gap-6">
                    <a href="#transformation" class="nav-link text-sm text-[var(--color-text-secondary)] font-semibold hover:text-white">Возможности</a>
                    <a href="#pricing" class="nav-link text-sm text-[var(--color-text-secondary)] font-semibold hover:text-white">Тарифы</a>
                    <a href="#faq" class="nav-link text-sm text-[var(--color-text-secondary)] font-semibold hover:text-white">FAQ</a>
                </nav>

                <div class="hidden lg:flex items-center space-x-3">
                    <a href="/login" class="cta-btn px-5 py-2 text-sm font-semibold rounded-full hover:bg-[var(--color-surface)] transition-colors">Вход</a>
                    <a href="/register" class="cta-btn bg-[var(--color-accent-primary)] text-[var(--color-text-on-accent)] px-5 py-2.5 text-sm font-bold rounded-full transition-transform hover:scale-105">Начать бесплатно</a>
                </div>

                <div class="lg:hidden">
                    <button id="burger-btn" class="text-white text-2xl w-10 h-10 flex items-center justify-center">
                        <i id="burger-icon" class="fas fa-bars transition-transform duration-300"></i>
                    </button>
                </div>
            </div>
            
            <div id="mobile-menu" class="w-64 rounded-2xl border border-[var(--color-border)] bg-[var(--color-surface)]/80 backdrop-blur-xl shadow-2xl shadow-black/50">
                <nav class="flex flex-col p-4 space-y-2">
                    <a href="#transformation" class="px-4 py-3 text-base text-white font-semibold rounded-lg hover:bg-black/20">Возможности</a>
                    <a href="#pricing" class="px-4 py-3 text-base text-white font-semibold rounded-lg hover:bg-black/20">Тарифы</a>
                    <a href="#faq" class="px-4 py-3 text-base text-white font-semibold rounded-lg hover:bg-black/20">FAQ</a>
                    <hr class="border-t border-[var(--color-border)] !my-3">
                    <a href="/login" class="px-4 py-3 text-base text-white font-semibold rounded-lg hover:bg-black/20">Вход</a>
                    <a href="/register" class="block text-center bg-[var(--color-accent-primary)] text-white px-5 py-3 text-base font-bold rounded-3xl mt-2">Начать бесплатно</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto p-4 sm:px-8 space-y-24 sm:space-y-32">
        <section id="hero" class="text-center pt-20">
            <h1 class="text-4xl md:text-6xl font-black leading-tight tracking-tighter text-white">
                <span class="gradient-text">Создайте тест по&nbsp;тексту</span><br> онлайн с&nbsp;результатами
            </h1>
            <p class="mt-6 text-lg max-w-3xl mx-auto text-[var(--color-text-secondary)]">
                Хватит тратить часы в&nbsp;Word. Загрузите свои материалы и&nbsp;получите готовый тест с&nbsp;ответами. Прямо сейчас. Бесплатно.
            </p>
            <a href="#create-now" class="mt-8 inline-block bg-[var(--color-accent-primary)] text-[var(--color-text-on-accent)] px-10 py-4 text-base font-bold rounded-full transition hover:opacity-90 shadow-lg shadow-[var(--color-accent-primary)]/20">
                Создать тест бесплатно
            </a>
        </section>

        <section id="create-now">

            <div class="mt-8 bg-[var(--color-surface)] p-4 sm:p-8 rounded-3xl border border-[var(--color-border)] shadow-2xl shadow-black/40">
                
                <div class="text-center mt-12">
                    <h2 class="text-2xl sm:text-3xl font-bold text-white min-h-[128px] sm:min-h-[82px]">
                        <span>Создайте тест по</span><br class="sm:hidden">
                        <span id="animated-headline-text" class="font-extrabold"></span>
                        <span id="animated-headline-cursor" class="text-[var(--color-text-secondary)] font-light">|</span>
                    </h2>
                </div>

                <div class="relative">
                    <textarea 
                        id="text-input" 
                        placeholder="Вставьте сюда текст – сгенерируем тест по нему.&#10;Например: Теорема Пифагора гласит, что в прямоугольном треугольнике квадрат длины гипотенузы равен сумме квадратов длин катетов..."
                        maxlength="5000"
                        class="w-full h-48 p-4 bg-[var(--color-bg)] border border-[var(--color-border)] rounded-2xl text-white resize-none
                            focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)] focus:caret-[var(--color-accent-primary)]
                            transition-shadow duration-300 focus:shadow-xl focus:shadow-[var(--color-accent-primary)]/20"
                    ></textarea>
                    <div class="absolute bottom-4 right-4 text-xs text-gray-500">
                        <span id="char-count">0</span> / 5000
                    </div>
                </div>

                <div class="mt-4 flex flex-col sm:flex-row items-center justify-between gap-4">
                    <div class="flex items-center gap-3">
                        <label for="question-slider" class="font-semibold text-white">Вопросов:</label>
                        <input type="range" id="question-slider" min="1" max="5" value="3" class="w-32">
                        <span id="question-count-display" class="font-bold text-lg highlight">3</span>
                    </div>
                    <button id="generate-btn" data-loading-text="Генерация..." class="w-full sm:w-auto bg-[var(--color-accent-secondary)] text-black px-8 py-3 font-bold rounded-full transition-transform hover:scale-105 disabled:opacity-50">
                        Сгенерировать тест
                    </button>
                </div>
                
                <div id="result-container" class="mt-8 pt-6 border-t border-dashed border-[var(--color-border)]" style="display: none;">
                    <h3 class="font-bold text-white text-lg">Ваши созданные тесты:</h3>
                    <div id="test-grid" class="mt-4 grid grid-cols-1 gap-4"></div>
                </div>
                
                <div id="reg-promo" class="mt-8 text-center bg-[var(--color-bg)] p-8 rounded-2xl">
                    <h3 class="text-2xl font-bold text-white">Раскройте полный потенциал Летучки!</h3>
                    <p class="mt-2 text-gray-400">Зарегистрируйтесь, чтобы сохранять тесты, загружать файлы и отслеживать прогресс.</p>
                    <a href="/register" class="mt-6 inline-block bg-[var(--color-accent-primary)] text-[var(--color-text-on-accent)] px-10 py-3 text-base font-bold rounded-full transition-transform hover:scale-105">
                        Получить 10 тестов бесплатно
                    </a>
                </div>
            </div>
        </section>

        <section id="use-cases" class="py-16 sm:py-24 bg-[var(--color-surface)]/30">
            <div class="max-w-5xl mx-auto px-4 sm:px-8">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white"><span class="gradient-text">Один инструмент</span> для любой задачи</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)]">Неважно, какой у Вас материал. Летучка поможет составить тест по тексту для любой цели.</p>
                </div>
                
                <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Юзкейс 1 -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] hover:border-[var(--color-accent-primary)] transition-all duration-300 transform hover:-translate-y-2">
                        <div class="flex items-start gap-6">
                            <div class="flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-2xl bg-black/20">
                                <i class="fas fa-book-open-reader text-3xl text-[var(--color-accent-primary)]"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-white text-m sm:text-xl">Проверка знаний по&nbsp;конспекту</h3>
                                <p class="mt-2 text-sm text-gray-400">Загрузите лекцию, чтобы быстро создать тест по&nbsp;тексту и&nbsp;проверить, насколько студенты усвоили материал перед семинаром.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Юзкейс 2 -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] hover:border-[var(--color-accent-secondary)] transition-all duration-300 transform hover:-translate-y-2">
                        <div class="flex items-start gap-6">
                            <div class="flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-2xl bg-black/20">
                                <i class="fas fa-user-graduate text-3xl text-[var(--color-accent-secondary)]"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-white text-m sm:text-xl">Самопроверка перед экзаменом</h3>
                                <p class="mt-2 text-sm text-gray-400">Превратите десятки страниц учебника в&nbsp;интерактивный тест. Лучший способ составить тест по&nbsp;тексту для самоконтроля.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Юзкейс 3 -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] hover:border-[var(--color-accent-secondary)] transition-all duration-300 transform hover:-translate-y-2">
                        <div class="flex items-start gap-6">
                            <div class="flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-2xl bg-black/20">
                                <i class="fas fa-briefcase text-3xl text-[var(--color-accent-secondary)]"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-white text-m sm:text-xl">Аттестация сотрудников</h3>
                                <p class="mt-2 text-sm text-gray-400">Нужно составить тест онлайн по&nbsp;тексту нового регламента? Вставьте его и&nbsp;получите готовые вопросы с&nbsp;автоматической проверкой.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Юзкейс 4 -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] hover:border-[var(--color-accent-primary)] transition-all duration-300 transform hover:-translate-y-2">
                        <div class="flex items-start gap-6">
                            <div class="flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-2xl bg-black/20">
                                <i class="fas fa-bolt-lightning text-3xl text-[var(--color-accent-primary)]"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-white text-m sm:text-xl">Быстрая летучка на&nbsp;5&nbsp;минут</h3>
                                <p class="mt-2 text-sm text-gray-400">Идеально, чтобы сделать тест из&nbsp;текста онлайн прямо на&nbsp;занятии. Вставьте параграф&nbsp;&mdash; и&nbsp;через пару секунд у&nbsp;вас готовый тест с&nbsp;результатами.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ====================================================== -->
        <!--         HOW IT WORKS V3: VISUAL MANIFESTO              -->
        <!-- ====================================================== -->
        <section id="transformation-engine" class="py-16 sm:py-24">
            <div class="max-w-6xl mx-auto px-4 sm:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white">
                        Ваша рутина  —  <span class="gradient-text">наша забота.</span>
                    </h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)] max-w-3xl mx-auto">
                        Перестаньте тратить часы на рутину. Делегируйте механическую работу <span class="gradient-text">Летучке</span> и сфокусируйтесь на том, что действительно важно — на обучении.
                    </p>
                </div>

                <div class="grid lg:grid-cols-2 gap-12 items-start">
                    
                    <!-- Левая колонка: БОЛЬ (THE PAIN) -->
                    <div class="bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] h-full">
                        <h3 class="text-2xl font-bold text-white">Знакомый сценарий?</h3>
                        <p class="mt-2 text-gray-400">Вечер воскресенья. Вместо отдыха вы:</p>
                        <ul class="mt-6 space-y-4">
                            <li class="flex items-start gap-3">
                                <i class="fas fa-file-word text-lg text-red-500 mt-1"></i>
                                <span>Вручную копируете вопросы из методички в Word, борясь с форматированием.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <i class="fas fa-random text-lg text-red-500 mt-1"></i>
                                <span>Перемешиваете задания, чтобы создать 2-3 варианта теста и избежать списывания.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <i class="fas fa-key text-lg text-red-500 mt-1"></i>
                                <span>Делаете отдельный файл с ответами, молясь не ошибиться в нумерации.</span>
                            </li>
                            <li class="flex items-start gap-3 font-semibold">
                                <i class="fas fa-hourglass-end text-lg text-red-400 mt-1"></i>
                                <span>Теряете 2 часа драгоценного времени на работу, которую должна делать машина.</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Правая колонка: РЕШЕНИЕ (THE SOLUTION) -->
                    <div class="space-y-8">
                        <div>
                            <span class="inline-block px-3 py-1 text-xs font-semibold text-[var(--color-accent-secondary)] bg-[var(--color-accent-secondary)]/10 rounded-full mb-2">Шаг 1</span>
                            <h3 class="text-2xl font-bold text-white">Загрузите любой материал</h3>
                            <p class="mt-2 text-gray-400">Просто перетащите ваш файл (PDF, DOCX) или вставьте текст из любого источника — будь то конспект, статья или параграф из учебника.</p>
                        </div>
                        <div>
                            <span class="inline-block px-3 py-1 text-xs font-semibold text-[var(--color-accent-secondary)] bg-[var(--color-accent-secondary)]/10 rounded-full mb-2">Шаг 2</span>
                            <h3 class="text-2xl font-bold text-white">Сгенерируйте уникальные вопросы</h3>
                            <p class="mt-2 text-gray-400">Наш генератор тестов проанализирует содержание и за 30 секунд создаст релевантные вопросы с вариантами ответов и правильными ключами.</p>
                        </div>
                        <div>
                            <span class="inline-block px-3 py-1 text-xs font-semibold text-[var(--color-accent-secondary)] bg-[var(--color-accent-secondary)]/10 rounded-full mb-2">Шаг 3</span>
                            <h3 class="text-2xl font-bold text-white">Поделитесь или скачайте PDF</h3>
                            <p class="mt-2 text-gray-400">Отправьте студентам ссылку с тестом или скачайте готовый к печати PDF-файл с вариантами и листом ответов.</p>
                        </div>
                    </div>
                </div>

                <!-- Видео как доказательство -->
                <div class="mt-16 w-full rounded-2xl border-2 border-[var(--color-border)] shadow-2xl shadow-black/50 overflow-hidden">
                    <video autoplay loop muted playsinline preload="metadata" class="w-full h-auto">
                        <source src="{% static 'blog_img/0313-text.mp4' %}" type="video/mp4">
                        Ваш браузер не поддерживает видео. Суть в том, что вы загружаете текст и мгновенно получаете готовый тест.
                    </video>
                </div>
            </div>
        </section>
<!-- 
        <section id="how-it-works" class="py-16 sm:py-24">
            <div class="max-w-4xl mx-auto px-4 sm:px-8">
                
                <div class="text-center mb-12">
                    <h2 class="text-3xl sm:text-5xl font-extrabold text-white">
                        Вместо <span style="color: #ff4d4d;">2-х часов</span> ручной работы. <br> Делегируйте <span class="gradient-text">Летучке</span> рутину.
                    </h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)]">
                        Это новый стандарт подготовки учебных материалов. Посмотрите, как это работает.
                    </p>
                </div>
                
                <div class="w-full rounded-2xl border-2 border-[var(--color-border)] shadow-2xl shadow-black/50 overflow-hidden">
                    <video autoplay loop muted playsinline preload="metadata" class="w-full h-auto">
                        <source src="{% static 'blog_img/0313-text.mp4' %}" type="video/mp4">
                        Ваш браузер не поддерживает видео. Суть в том, что вы загружаете текст и мгновенно получаете готовый тест.
                    </video>
                </div>

                <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    
                    <div>
                        <div class="flex items-center justify-center h-12 w-12 rounded-full bg-[var(--color-surface)] border border-[var(--color-border)] mx-auto">
                            <i class="fas fa-rocket text-xl text-[var(--color-accent-primary)]"></i>
                        </div>
                        <h3 class="mt-4 font-bold text-white">От рутины к результату</h3>
                        <p class="mt-2 text-sm text-[var(--color-text-secondary)]">
                            Перестаньте тратить время на механическую работу. Делегируйте создание тестов AI и освободите часы для того, что действительно важно — для обучения.
                        </p>
                    </div>
                    
                    <div>
                        <div class="flex items-center justify-center h-12 w-12 rounded-full bg-[var(--color-surface)] border border-[var(--color-border)] mx-auto">
                            <i class="fas fa-brain text-xl text-[var(--color-accent-primary)]"></i>
                        </div>
                        <h3 class="mt-4 font-bold text-white">От фактов к пониманию</h3>
                        <p class="mt-2 text-sm text-[var(--color-text-secondary)]">
                            «Летучка» создает не просто вопросы на запоминание, а задания, которые проверяют реальную глубину понимания материала вашими студентами.
                        </p>
                    </div>

                    <div>
                        <div class="flex items-center justify-center h-12 w-12 rounded-full bg-[var(--color-surface)] border border-[var(--color-border)] mx-auto">
                            <i class="fas fa-file-export text-xl text-[var(--color-accent-primary)]"></i>
                        </div>
                        <h3 class="mt-4 font-bold text-white">От Word'а к любому формату</h3>
                        <p class="mt-2 text-sm text-[var(--color-text-secondary)]">
                            Получите готовый к печати PDF для очной контрольной или поделитесь публичной ссылкой на тест для онлайн-проверки. Один клик — любой результат.
                        </p>
                    </div>

                </div>
            </div>
        </section> -->

        <section id="technology" class="py-16 sm:py-24">
            <div class="max-w-5xl mx-auto px-4 sm:px-8">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl font-bold text-white">Как <span class="gradient-text">Летучка</span> создаёт качественные вопросы?</h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)]">Наш AI позволяет составить тест по тексту онлайн, который действительно проверяет знания, а не просто ищет совпадения по словам.</p>
                </div>
                <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-[var(--color-surface)] p-8 rounded-2xl border border-[var(--color-border)]">
                        <i class="fas fa-project-diagram text-2xl text-[var(--color-accent-primary)] mb-4"></i>
                        <h3 class="font-bold text-white text-lg">Семантический анализ текста</h3>
                        <p class="mt-2 text-sm text-gray-400">AI&nbsp;понимает контекст и&nbsp;связи между понятиями. Это позволяет создать тест по&nbsp;тексту, который проверяет глубину понимания, а&nbsp;не&nbsp;поверхностную зубрёжку.</p>
                    </div>
                    <div class="bg-[var(--color-surface)] p-8 rounded-2xl border border-[var(--color-border)]">
                        <i class="fas fa-graduation-cap text-2xl text-[var(--color-accent-primary)] mb-4"></i>
                        <h3 class="font-bold text-white text-lg">Генерация вопросов разной сложности</h3>
                        <p class="mt-2 text-sm text-gray-400">Алгоритмы генерируют не&nbsp;только репродуктивные, но&nbsp;и&nbsp;проблемные вопросы. Идеально, если вам нужно составление тестов по&nbsp;тексту онлайн для разных уровней подготовки.</p>
                    </div>
                    <div class="bg-[var(--color-surface)] p-8 rounded-2xl border border-[var(--color-border)]">
                        <i class="fas fa-file-circle-check text-2xl text-[var(--color-accent-primary)] mb-4"></i>
                        <h3 class="font-bold text-white text-lg">Автоматическое создание ключей</h3>
                        <p class="mt-2 text-sm text-gray-400">Система формирует правильный ответ на&nbsp;каждый вопрос. Это основа, чтобы создать тест онлайн с&nbsp;результатами бесплатно и&nbsp;без ручной проверки.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ====================================================== -->
        <!--         TRANSFORMATION BLOCK: FROM CHAOS TO ORDER        -->
        <!-- ====================================================== -->
        <section id="the-choice" class="py-16 sm:py-24">
            <div class="max-w-4xl mx-auto px-4 sm:px-8">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white leading-tight">
                        <span class="gradient-text">Выбор за вами.</span>
                    </h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)]">
                        Один и тот же результат можно получить по-разному. <br>Переключите, чтобы увидеть разницу.
                    </p>
                </div>

                <!-- ПЕРЕКЛЮЧАТЕЛЬ -->
                <div class="mt-12 flex items-center justify-center space-x-4">
                    <span id="routine-label" class="font-semibold text-white transition-opacity duration-300">Путь Рутины</span>
                    <input type="checkbox" id="choice-toggle" class="hidden toggle-input"> 
                    <label for="choice-toggle" class="cursor-pointer">
                        <div class="w-14 h-8 flex items-center bg-gray-700 rounded-full p-1 toggler transition-colors">
                            <div class="w-6 h-6 bg-gray-400 rounded-full shadow-md transform transition-transform dot"></div>
                        </div>
                    </label>
                    <span id="letuchka-label" class="font-semibold text-white transition-opacity duration-300 opacity-50">Путь Летучки</span>
                </div>

                <!-- КОНТЕЙНЕР ДЛЯ КАРТОЧЕК -->
                <div class="mt-8 relative">
                    
                    <!-- КАРТОЧКА "ПУТЬ РУТИНЫ" -->
                    <div id="routine-card" class="bg-[#1a1625] p-8 rounded-3xl border border-gray-800">
                        <h3 class="text-xl font-bold text-center text-gray-400">Создание теста вручную</h3>
                        <div class="mt-6 space-y-4">
                            <div class="flex items-center gap-4 p-4 bg-gray-900/50 rounded-lg">
                                <i class="fas fa-file-word text-2xl text-gray-600"></i>
                                <span class="text-gray-400"><strong>Задача 1:</strong> Копи-паст вопросов из методички в Word</span>
                            </div>
                            <div class="flex items-center gap-4 p-4 bg-gray-900/50 rounded-lg">
                                <i class="fas fa-random text-2xl text-gray-600"></i>
                                <span class="text-gray-400"><strong>Задача 2:</strong> Перемешивание вопросов для 2-го варианта</span>
                            </div>
                            <div class="flex items-center gap-4 p-4 bg-gray-900/50 rounded-lg">
                                <i class="fas fa-key text-2xl text-gray-600"></i>
                                <span class="text-gray-400"><strong>Задача 3:</strong> Создание отдельного файла с ответами</span>
                            </div>
                        </div>
                        <div class="mt-6 pt-4 border-t border-gray-800 text-center">
                            <p class="text-lg font-bold text-white"><span class="text-red-500">~2 часа</span>, риск ошибок, нервы.</p>
                        </div>
                    </div>

                    <!-- КАРТОЧКА "ПУТЬ ЛЕТУЧКИ" -->
                    <div id="letuchka-card" class="hidden bg-gradient-to-br from-[var(--color-accent-primary)]/10 to-transparent p-8 rounded-3xl border border-[var(--color-border)]">
                        <h3 class="text-xl font-bold text-center text-white">Создание теста с Летучкой</h3>
                        <div class="mt-6 space-y-4">
                            <div class="flex items-center gap-4 p-4 bg-black/20 rounded-lg">
                                <i class="fas fa-upload text-2xl text-[var(--color-accent-secondary)]"></i>
                                <span class="text-white"><strong>Задача 1:</strong> Загрузить файл или вставить текст</span>
                            </div>
                            <div class="flex items-center gap-4 p-4 bg-black/20 rounded-lg">
                                <i class="fas fa-magic text-2xl text-[var(--color-accent-secondary)]"></i>
                                <span class="text-white"><strong>Задача 2:</strong> Нажать кнопку "Сгенерировать"</span>
                            </div>
                            <div class="flex items-center gap-4 p-4 bg-black/20 rounded-lg">
                                <i class="fas fa-download text-2xl text-[var(--color-accent-secondary)]"></i>
                                <span class="text-white"><strong>Задача 3:</strong> Пойти тест, скачать готовый PDF или поделиться ссылкой</span>
                            </div>
                        </div>
                        <div class="mt-6 pt-4 border-t border-[var(--color-border)] text-center">
                            <p class="text-lg font-bold text-white"><span class="text-[var(--color-accent-secondary)]">30 секунд</span>, точность, свободное время.</p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- ====================================================== -->
        <!--         THE DATA SOVEREIGNTY FORTRESS V2             -->
        <!-- ====================================================== -->
        <section id="infrastructure-trust" class="py-16 sm:py-24">
            <div class="max-w-5xl mx-auto px-4 sm:px-8">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white">
                        <span class="gradient-text">Суверенитет данных.</span>
                    </h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)]">
                        Мы развернули собственную инфраструктуру в России, чтобы вы были уверены: ваши материалы и данные учеников под полным контролем.
                    </p>
                </div>
                <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] text-center transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-black/50">
                        <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30 mx-auto">
                            <i class="fas fa-map-marker-alt text-3xl text-[var(--color-accent-secondary)]"></i>
                        </div>
                        <h3 class="mt-5 font-bold text-white text-lg">Данные в России</h3>
                        <p class="mt-2 text-sm text-gray-400">Вся инфраструктура и&nbsp;данные размещены в&nbsp;сертифицированных дата-центрах на&nbsp;территории&nbsp;РФ в&nbsp;полном соответствии с&nbsp;ФЗ-152.</p>
                    </div>
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] text-center transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-black/50">
                        <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30 mx-auto">
                            <i class="fas fa-server text-3xl text-[var(--color-accent-secondary)]"></i>
                        </div>
                        <h3 class="mt-5 font-bold text-white text-lg">Свои серверы</h3>
                        <p class="mt-2 text-sm text-gray-400">Мы&nbsp;не&nbsp;зависим от&nbsp;иностранных облаков. Отечественные поставщики&nbsp;&mdash; это гарантия стабильности и&nbsp;отсутствия доступа третьих сторон.</p>
                    </div>
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] text-center transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-black/50">
                        <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30 mx-auto">
                            <i class="fas fa-eye text-3xl text-[var(--color-accent-secondary)]"></i>
                        </div>
                        <h3 class="mt-5 font-bold text-white text-lg">Аудит и прозрачность</h3>
                        <p class="mt-2 text-sm text-gray-400">Открытая политика обработки данных. Вы&nbsp;всегда знаете, где и&nbsp;как хранится информация&nbsp;&mdash; без скрытых алгоритмов. <a class="text-[var(--color-accent-primary)]" href="/docs/privacy-policy/">Подробнее</a></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="telegram-login" class="py-16 sm:py-24">
            <div class="max-w-5xl mx-auto px-4 sm:px-8 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Левая часть: Макет -->
                <div class="relative flex justify-center lg:justify-end">
                    <div class="w-80 bg-[var(--color-bg)] rounded-[40px] p-2 border-2 border-[var(--color-border)] shadow-2xl shadow-black/50">
                        <div class="rounded-[32px] overflow-hidden">
                            <img src="{% static 'blog_img/letychka-telegram-1007.png' %}" alt="Телефон с Telegram ботом Летучка" class="w-full h-full object-cover">
                        </div>
                    </div>
                </div>

                <!-- Правая часть: Ценность -->
                <div class="text-center lg:text-left">
                    <h2 class="text-3xl sm:text-4xl font-bold text-white leading-tight">
                        <span class="highlight">Замена паролям.</span><br>
                    </h2>
                    <h3 class="text-2xl sm:text-3xl">Только Ваш Telegram.</h3>
                    <p class="mt-4 text-[var(--color-text-secondary)] max-w-md mx-auto lg:mx-0">
                        Мы&nbsp;убрали самый бесячий этап&nbsp;&mdash; регистрацию и&nbsp;запоминание паролей. Ваш аккаунт&nbsp;&mdash; это Ваш Telegram. Безопасно, мгновенно и&nbsp;всегда под рукой.
                    </p>
                    <div class="mt-8">
                        <a href="https://t.me/LetychkaRobot" target="_blank" class="inline-block bg-[var(--color-accent-primary)] text-white px-8 py-3 font-semibold rounded-full transition hover:opacity-90">Попробовать вход в 1 клик →</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- ====================================================== -->
        <!--         STATS V2: SOCIAL PROOF ON STEROIDS             -->
        <!-- ====================================================== -->
        <section id="stats" class="py-16 sm:py-24">
            <div class="max-w-5xl mx-auto px-4 sm:px-8">
                <div class="text-center">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white"><span class="gradient-text">Цифры</span>, а не слова.</h2>
                </div>
                <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
                    
                    <!-- СТАТИСТИКА 1: ПОЛЬЗОВАТЕЛИ -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] text-center transition-transform duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-black/50">
                        <div class="flex justify-center mb-4">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30">
                                <i class="fas fa-users text-3xl text-[var(--color-accent-primary)]"></i>
                            </div>
                        </div>
                        <p class="text-5xl font-black gradient-text" data-target="2400">0</p>
                        <p class="text-sm text-gray-400 mt-1">Преподавателей и&nbsp;студентов</p>
                    </div>
                    
                    <!-- СТАТИСТИКА 2: ВРЕМЯ -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] text-center transition-transform duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-black/50">
                        <div class="flex justify-center mb-4">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30">
                                <i class="fas fa-clock text-3xl text-[var(--color-accent-secondary)]"></i>
                            </div>
                        </div>
                        <p class="text-5xl font-black gradient-text" data-target="8">0+</p>
                        <p class="text-sm text-gray-400 mt-1">Часов в&nbsp;неделю экономят в&nbsp;среднем</p>
                    </div>
                    
                    <!-- СТАТИСТИКА 3: ТЕСТЫ -->
                    <div class="group bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] text-center transition-transform duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:shadow-black/50">
                        <div class="flex justify-center mb-4">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30">
                                <i class="fas fa-file-alt text-3xl text-[var(--color-accent-primary)]"></i>
                            </div>
                        </div>
                        <p class="text-5xl font-black gradient-text" data-target="23000">0</p>
                        <p class="text-sm text-gray-400 mt-1">Тестов создано на платформе</p>
                    </div>
                    
                </div>
            </div>
        </section>

        <section id="pricing" class="py-16 sm:py-24">
            <div class="max-w-4xl mx-auto text-center px-4">
                <h2 class="text-3xl sm:text-4xl font-extrabold text-white">Для начала нужен <span class="gradient-text">план.</span></h2>
                <p class="mt-4 text-lg text-[var(--color-text-secondary)]">Выберите годовой план, чтобы получить лучшую цену.</p>

                <!-- ПЕРЕКЛЮЧАТЕЛЬ -->
                <div class="mt-12 flex items-center justify-center space-x-4">
                    <span class="font-semibold text-white transition-opacity duration-300" id="monthly-label">Ежемесячный</span>
                    <input type="checkbox" id="pricing-toggle" class="hidden">
                    <label for="pricing-toggle" class="cursor-pointer">
                        <div class="w-14 h-8 flex items-center bg-[var(--color-accent-primary)] rounded-full p-1 toggler transition-colors">
                            <div class="w-6 h-6 bg-white rounded-full shadow-md transform transition-transform translate-x-full dot"></div>
                        </div>
                    </label>
                    <span class="font-semibold text-white transition-opacity duration-300 opacity-50" id="yearly-label">Годовой</span>
                </div>
            </div>

            <!-- КОНТЕЙНЕР ДЛЯ КАРТОЧЕК -->
            <div id="pricing-cards-container" class="mt-12 grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto items-center px-4">
                
                <!-- КАРТОЧКА: СТАНДАРТ -->
                <div class="bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] flex flex-col h-full">
                    <h3 class="font-bold text-white text-xl">Стандарт</h3>
                    <p class="mt-1 text-sm text-[var(--color-text-secondary)]">Для регулярных задач</p>
                    <div data-pricing="standard" class="my-6">
                        <!-- Контент меняется через JS -->
                    </div>
                    <ul class="space-y-3 text-sm text-[var(--color-text-secondary)] flex-grow">
                        <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span><strong>50 тестов в день</strong></span></li>
                        <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span><strong>PDF без вотермарок</strong></span></li>
                        <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span>AI-фидбэк</span></li>
                    </ul>
                    <a href="/payment/" class="mt-8 block w-full text-center bg-white/10 hover:bg-white/20 text-white font-semibold py-3 rounded-full transition-colors">Выбрать Стандарт</a>
                </div>

                <!-- КАРТОЧКА: ПРЕМИУМ (ГЛАВНЫЙ АКЦЕНТ) -->
                <div class="premium-card p-8 rounded-3xl border-2 border-[var(--color-accent-primary)] flex flex-col h-full transform scale-105 shadow-2xl shadow-[var(--color-accent-primary)]/20">
                    <div class="premium-card-content">
                        <div class="flex justify-between items-center">
                            <h3 class="font-bold text-white text-2xl">Премиум</h3>
                            <div class="bg-[var(--color-accent-primary)] text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">Лучший&nbsp;выбор</div>
                        </div>
                        <p class="mt-1 text-sm text-[var(--color-text-secondary)]">Для профессионалов</p>
                        <div data-pricing="premium" class="my-6">
                            <!-- Контент меняется через JS -->
                        </div>
                        <ul class="space-y-3 text-sm text-[var(--color-text-secondary)] flex-grow">
                            <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span><strong>150 тестов в день</strong></span></li>
                            <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span><strong>Загрузка файлов (PDF, Word)</strong></span></li>
                            <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span>Экспорт результатов</span></li>
                            <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span>Приоритетная поддержка</span></li>
                        </ul>
                        <button data-trigger-modal="register" class="mt-8 block w-full text-center bg-[var(--color-accent-primary)] text-white font-bold text-m py-4 rounded-full transition hover:opacity-90 shadow-lg shadow-[var(--color-accent-primary)]/30">
                            Перейти на Премиум
                        </button>
                    </div>
                </div>
                
                <!-- КАРТОЧКА: СТАРТОВЫЙ -->
                <div class="bg-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)] flex flex-col h-full">
                    <h3 class="font-bold text-white text-xl">Стартовый</h3>
                    <p class="mt-1 text-sm text-[var(--color-text-secondary)]">Чтобы попробовать</p>
                    <div class="my-6">
                        <p class="text-6xl font-extrabold text-white">0 ₽</p>
                        <p class="text-sm text-gray-400">&nbsp;</p>
                    </div>
                    <ul class="space-y-3 text-sm text-[var(--color-text-secondary)] flex-grow">
                        <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span><strong>10 бесплатных</strong> генераций</span></li>
                        <li class="flex items-start"><i class="fas fa-check text-[var(--color-accent-secondary)] w-5 text-center mr-2 mt-1"></i> <span>Создание из текста</span></li>
                    </ul>
                    <a href="/register" class="mt-8 block w-full text-center bg-white/10 hover:bg-white/20 text-white font-semibold py-3 rounded-full transition-colors">Начать бесплатно</a>
                </div>
            </div>

            <!-- БЛОК: ОПЛАТА ДОЛЯМИ -->
            <section id="security" class="py-16 sm:py-24">
                <div class="max-w-4xl mx-auto px-4 sm:px-8">
                    <div class="text-center">
                        <h2 class="text-3xl sm:text-4xl font-extrabold text-white"><span class="gradient-text">Безопасность</span> — это <span class="gradient-text">фундамент.</span></h2>
                        <p class="mt-4 text-lg text-[var(--color-text-secondary)]">Оплата в одно касание через проверенные сервисы. Быстро, привычно и на 100% безопасно.</p>
                    </div>

                    <!-- ГАРАНТИИ БЕЗОПАСНОСТИ -->
                    <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                        
                        <div class="bg-[var(--color-surface)] p-4 rounded-3xl border border-[var(--color-border)]">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30 mx-auto">
                                <i class="fas fa-wand-magic-sparkles text-3xl text-[var(--color-accent-secondary)]"></i>
                            </div>
                            <h3 class="mt-5 font-bold text-white text-lg">Платите как удобно</h3>
                            <p class="mt-2 text-sm text-gray-400">Забудьте о&nbsp;неудобных формах. Оплачивайте подписку в&nbsp;одно касание картой, через SberPay, T-Pay или СБП. Быстро и&nbsp;безопасно.</p>
                        </div>
                        
                        <div class="bg-[var(--color-surface)] p-4 rounded-3xl border border-[var(--color-border)]">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30 mx-auto">
                                <i class="fas fa-shield-halved text-3xl text-[var(--color-accent-secondary)]"></i>
                            </div>
                            <h3 class="mt-5 font-bold text-white text-lg">Банковский уровень защиты</h3>
                            <p class="mt-2 text-sm text-gray-400">Все платежи обрабатываются АО&nbsp;&laquo;Т-Банк&raquo; по&nbsp;стандарту PCI&nbsp;DSS. Это высший стандарт безопасности, гарантирующий, что Ваша транзакция защищена.</p>
                        </div>

                        <div class="bg-[var(--color-surface)] p-4 rounded-3xl border border-[var(--color-border)]">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-black/30 mx-auto">
                                <i class="fas fa-user-secret text-3xl text-[var(--color-accent-secondary)]"></i>
                            </div>
                            <h3 class="mt-5 font-bold text-white text-lg">Ваши данные&nbsp;&mdash; не&nbsp;наш бизнес</h3>
                            <p class="mt-2 text-sm text-gray-400">Мы&nbsp;не&nbsp;видим и&nbsp;тем более не&nbsp;храним полные данные вашей карты. Они отправляются напрямую, в&nbsp;зашифрованный банковский шлюз.</p>
                        </div>

                    </div>

                    <!-- БЛОК "ДОЛЯМИ" -->
                    <div class="mt-12">
                        <div class="bg-gradient-to-r from-[#211a32] to-[var(--color-surface)] p-8 rounded-3xl border border-[var(--color-border)]">
                            <div class="flex flex-col md:flex-row items-center gap-8 text-center md:text-left">
                                <div class="flex-shrink-0 text-center">
                                    <!-- SVG логотипы для идеального отображения -->
                                    <div class="flex-shrink-0">
                                        <img width="300" height="48" src="{% static 'img/dolyami.png' %}" alt="Летучка: Оплата Долями">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-2">Официальный партнер</p>
                                </div>
                                <div>
                                    <h4 class="text-xl font-bold text-white">Платите, как Вам удобно.</h4>
                                    <p class="text-[var(--color-text-secondary)] mt-1">Разделите годовую подписку на&nbsp;4&nbsp;равных платежа &laquo;Долями&raquo;. Первый платеж&nbsp;&mdash; сегодня, остальные&nbsp;&mdash; потом.</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="mt-8 flex flex-col sm:flex-row items-center justify-center gap-4">
                                <button id="open-register-modal-btn" class="w-full sm:w-auto bg-[var(--color-accent-primary)] text-white px-10 py-4 font-bold rounded-full transition-transform hover:scale-105">
                                    Перейти на Премиум
                                </button>
                                <a href="/register" class="w-full sm:w-auto text-sm text-gray-400 hover:text-white">или попробовать бесплатно</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- ====================================================== -->
        <!--         FAQ                 -->
        <!-- ====================================================== -->
        <section id="faq" class="py-16 sm:py-24">
            <div class="max-w-3xl mx-auto px-4 sm:px-8">
                <div class="text-center mb-16">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-white"><span class="gradient-text">Частые вопросы.</span></h2>
                    <p class="mt-4 text-lg text-[var(--color-text-secondary)]">Разбираем все по полочкам</p>
                </div>
                
                <div class="space-y-4">
                    
                    <!-- ОСНОВЫ РАБОТЫ -->
                    <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider pt-8">Основы работы</h3>
                    
                    <details class="group bg-[#1a1625] rounded-2xl border border-[var(--color-border)] transition-all duration-300 hover:border-[var(--color-accent-primary)] overflow-hidden">
                        <summary class="flex items-center justify-between p-6 cursor-pointer">
                            <span class="font-semibold text-white text-lg">Что именно делает «Летучка»?</span>
                            <i class="fas fa-plus text-gray-500 transition-transform duration-300 icon-plus"></i>
                            <i class="fas fa-minus text-[var(--color-accent-primary)] transition-transform duration-300 icon-minus"></i>
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-[var(--color-border)] pt-4">
                            <p>Если коротко — превращает любой ваш учебный текст в готовый тест. Вы даете нам материал (текст, PDF, DOCX), а наш AI за 30 секунд генерирует на его основе вопросы, варианты ответов и сразу показывает правильные ключи. Это как личный ассистент, который делает за вас всю нудную подготовительную работу.</p>
                        </div>
                    </details>

                    <details class="group bg-[#1a1625] rounded-2xl border border-[var(--color-border)] transition-all duration-300 hover:border-[var(--color-accent-primary)] overflow-hidden">
                        <summary class="flex items-center justify-between p-6 cursor-pointer">
                            <span class="font-semibold text-white text-lg">Я могу создать тест из своего PDF/Word?</span>
                            <i class="fas fa-plus text-gray-500 transition-transform duration-300 icon-plus"></i>
                            <i class="fas fa-minus text-[var(--color-accent-primary)] transition-transform duration-300 icon-minus"></i>
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-[var(--color-border)] pt-4">
                            <p><strong>Да. Это ключевая функция Премиум-тарифа.</strong> Забудьте о ручном копировании. Вы загружаете свой учебный материал, и «Летучка» сама извлекает из него суть для создания релевантных вопросов. Это превращает любой статический документ в основу для быстрой проверки знаний.</p>
                        </div>
                    </details>

                    <details class="group bg-[#1a1625] rounded-2xl border border-[var(--color-border)] transition-all duration-300 hover:border-[var(--color-accent-primary)] overflow-hidden">
                        <summary class="flex items-center justify-between p-6 cursor-pointer">
                            <span class="font-semibold text-white text-lg">Насколько "умными" получаются вопросы?</span>
                            <i class="fas fa-plus text-gray-500 transition-transform duration-300 icon-plus"></i>
                            <i class="fas fa-minus text-[var(--color-accent-primary)] transition-transform duration-300 icon-minus"></i>
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-[var(--color-border)] pt-4">
                            <p>Наш AI обучен понимать контекст, а не просто искать факты. Он создает вопросы, которые проверяют не зубрежку ("В каком году?"), а реальное понимание материала ("Чем отличается X от Y?", "Какова главная причина Z?"). Это позволяет вам оценить глубину знаний, а не поверхностную память.</p>
                        </div>
                    </details>

                    <!-- ИСПОЛЬЗОВАНИЕ И ФОРМАТЫ -->
                    <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider pt-8">Использование и форматы</h3>

                    <details class="group bg-[#1a1625] rounded-2xl border border-[var(--color-border)] transition-all duration-300 hover:border-[var(--color-accent-primary)] overflow-hidden">
                        <summary class="flex items-center justify-between p-6 cursor-pointer">
                            <span class="font-semibold text-white text-lg">Как я могу использовать созданный тест?</span>
                            <i class="fas fa-plus text-gray-500 transition-transform duration-300 icon-plus"></i>
                            <i class="fas fa-minus text-[var(--color-accent-primary)] transition-transform duration-300 icon-minus"></i>
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-[var(--color-border)] pt-4">
                            <p>Вы получаете полный контроль. Вы можете скопировать вопросы по ссылке, чтобы вставить их в Google Forms, Word или любую другую систему. Либо скачать готовый к печати PDF-файл, который отлично подходит для проведения очных контрольных работ. Все ключи (правильные ответы) доступны вам в личном кабинете.</p>
                        </div>
                    </details>
                    
                    <!-- ТАРИФЫ И ОПЛАТА -->
                    <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider pt-8">Тарифы и оплата</h3>
                    
                    <details class="group bg-[#1a1625] rounded-2xl border border-[var(--color-border)] transition-all duration-300 hover:border-[var(--color-accent-primary)] overflow-hidden">
                        <summary class="flex items-center justify-between p-6 cursor-pointer">
                            <span class="font-semibold text-white text-lg">Это подписка или разовый платеж?</span>
                            <i class="fas fa-plus text-gray-500 transition-transform duration-300 icon-plus"></i>
                            <i class="fas fa-minus text-[var(--color-accent-primary)] transition-transform duration-300 icon-minus"></i>
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-[var(--color-border)] pt-4">
                            <p>
                                Это <strong>абонемент</strong>, а не рекуррентная подписка. Вы платите один раз за выбранный период (месяц или год) и получаете доступ ко всем Премиум-функциям. 
                                <strong>Никаких автоматических списаний.</strong> 
                                Когда срок действия абонемента закончится, вы сами решаете, продлевать его или нет. Полный контроль.
                            </p>
                        </div>
                    </details>

                    <details class="group bg-[#1a1625] rounded-2xl border border-[var(--color-border)] transition-all duration-300 hover:border-[var(--color-accent-primary)] overflow-hidden">
                        <summary class="flex items-center justify-between p-6 cursor-pointer">
                            <span class="font-semibold text-white text-lg">Что я получаю бесплатно?</span>
                            <i class="fas fa-plus text-gray-500 transition-transform duration-300 icon-plus"></i>
                            <i class="fas fa-minus text-[var(--color-accent-primary)] transition-transform duration-300 icon-minus"></i>
                        </summary>
                        <div class="px-6 pb-6 text-gray-400 border-t border-[var(--color-border)] pt-4">
                            <p>Наш бесплатный "Стартовый" тариф — это полноценный тест-драйв. Вы получаете 10 генераций тестов из текста. Этого достаточно, чтобы оценить качество вопросов и понять, сколько времени вы экономите.</p>
                        </div>
                    </details>

                </div>
            </div>
        </section>
    </main>

    <!-- ====================================================== -->
    <!--         THE NON-ANNOYING COOKIE CONSENT BANNER         -->
    <!-- ====================================================== -->
    <div id="cookie-banner" 
        class="fixed z-50 w-full p-5 rounded-t-2xl 
                sm:max-w-sm sm:rounded-2xl sm:bottom-6 sm:left-6 bottom-0 left-0
                border-t sm:border border-[var(--color-border)] 
                bg-[var(--color-surface)]/80 backdrop-blur-xl 
                shadow-2xl shadow-black/50" 
        style="display: none;">
        <div class="flex flex-col gap-3">
            <div>
                <h3 class="font-bold text-white">Немного о cookie</h3>
                <p class="mt-1 text-sm text-gray-400">
                    Мы используем их, чтобы сделать сайт лучше. Это безопасно. Подробнее — в  
                    <a href="/docs/privacy-policy/" target="_blank" rel="noopener noreferrer" class="text-[var(--color-accent-primary)] hover:underline">политике</a>.
                </p>
            </div>
            <div class="flex items-center gap-4">
                <button id="accept-cookies-btn" class="w-full bg-[var(--color-accent-primary)] text-white px-5 py-2.5 text-sm font-bold rounded-full transition-transform hover:scale-105">
                    Понятно
                </button>
            </div>
        </div>
    </div>

    <!-- ====================================================== -->
    <!--         THE QUICK REGISTER & PAY MODAL                 -->
    <!-- ====================================================== -->
    <div id="register-modal" class="fixed inset-0 bg-black/80 z-50 hidden items-center justify-center p-4">
        <div id="modal-content" class="bg-[var(--color-surface)] w-full max-w-md p-8 rounded-3xl border border-[var(--color-border)] transform scale-95 opacity-0 transition-all duration-300 backdrop-blur-xl">
            <div class="flex justify-between items-center">
                <h3 class="text-2xl font-bold text-white">Регистрация</h3>
                <button id="close-modal-btn" class="text-gray-500 hover:text-white text-2xl">&times;</button>
            </div>
            <p class="mt-2 text-sm text-gray-400">Создайте аккаунт, чтобы перейти к оплате.</p>
            
            <form id="quick-register-form" class="mt-6 space-y-4">
                {% csrf_token %}
                <div>
                    <label for="id_email" class="text-sm font-semibold text-gray-300">Ваш Email</label>
                    <input type="email" name="email" id="id_email" required class="mt-1 w-full p-3 bg-[var(--color-bg)] border border-[var(--color-border)] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)]">
                </div>
                <div>
                <label for="id_password1" class="text-sm font-semibold text-gray-300">Придумайте пароль</label>
                    <input type="password" name="password1" id="id_password1" required class="mt-1 w-full p-3 bg-[var(--color-bg)] border border-[var(--color-border)] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)]">
                </div>
                <div>
                    <label for="id_password2" class="text-sm font-semibold text-gray-300">Повторите пароль</label>
                    <input type="password" name="password2" id="id_password2" required class="mt-1 w-full p-3 bg-[var(--color-bg)] border border-[var(--color-border)] rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-[var(--color-accent-primary)]">
                </div>

                <div class="pt-2">
                    <label class="flex items-start gap-3 cursor-pointer">
                        <input type="checkbox" id="terms-checkbox" class="mt-1 h-4 w-4 rounded border-gray-500 bg-gray-700 text-[var(--color-accent-primary)] focus:ring-[var(--color-accent-primary)]">
                        <span class="text-xs text-gray-400">
                            Нажимая кнопку, я принимаю условия
                            <a href="/docs/public-offer" target="_blank" class="text-[var(--color-accent-primary)] hover:underline">Публичной оферты</a>
                            и даю согласие на обработку персональных данных в соответствии с
                            <a href="/docs/privacy-policy" target="_blank" class="text-[var(--color-accent-primary)] hover:underline">Политикой конфиденциальности</a>.
                        </span>
                    </label>
                </div>
                
                <p id="form-error" class="text-red-500 text-sm hidden"></p>
                
                <button type="submit" id="submit-register-btn" disabled class="w-full py-3 font-bold text-center rounded-full bg-[var(--color-accent-primary)] text-white transition-opacity duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                    Создать и оплатить
                </button>
            </form>
        </div>
    </div>

    <!-- ====================================================== -->
    <!--         FOOTER V3: THE BRAND FOUNDATION              -->
    <!-- ====================================================== -->
    <footer class="mt-24 border-t border-[var(--color-border)]">
        <div class="max-w-6xl mx-auto px-4 sm:px-8 py-16">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-12">
                
                <!-- Колонка 1: Бренд -->
                <div class="sm:col-span-2 md:col-span-1">
                    <a href="/">
                        <img src="{% static 'img/logo-header.webp' %}" alt="Летучка Логотип" class="w-40 h-auto">
                    </a>
                    <p class="mt-4 text-sm text-[var(--color-text-secondary)]">
                        AI-сервис для создания тестов
                    </p>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-white uppercase tracking-wider">Продукт</h3>
                    <div class="mt-4 flex flex-col space-y-3 text-sm">
                        <a href="#transformation" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Возможности</a>
                        <a href="#security-and-payments" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Безопасность</a>
                        <a href="#pricing" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Тарифы</a>
                        <a href="#faq" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">FAQ</a>
                        <a href="/dlya-prepodavateley/" target="_blank" rel="noopener noreferrer" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Преподавателям</a>
                        
                    </div>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-white uppercase tracking-wider">Медиа</h3>
                    <div class="mt-4 flex flex-col space-y-3 text-sm">
                        <a href="https://letychka.ru/media/main/" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Блог</a>
                        <a href="https://productradar.ru/product/letuchka/" target="_blank" rel="noopener noreferrer" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Product Radar</a>
                        <a href="https://www.behance.net/gallery/217116137/Letychka-letuchka-AI-servis-dlja-generacii-testov/" target="_blank" rel="noopener noreferrer" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Кейс на Behance</a>
                        <a href="https://rutube.ru/video/05833232f69b6dd32e4ccd0e9ec63c4b/?r=wd" target="_blank" rel="noopener noreferrer" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Промо на Rutube</a>
                    </div>
                </div>

                <div>
                    <h3 class="text-sm font-semibold text-white uppercase tracking-wider">Компания</h3>
                    <div class="mt-4 flex flex-col space-y-3 text-sm">
                        <a href="mailto:support@letychka.ru" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">support@letychka.ru</a>
                        <a href="/docs/public-offer/" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Публичная оферта</a>
                        <a href="/docs/privacy-policy/" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Политика конфиденциальности</a>
                        <hr>
                        <a href="https://golosok.space/" class="text-[var(--color-text-secondary)] hover:text-white transition-colors" target="_blank" rel="noopener noreferrer">Голосок</a>
                        <a href="https://taxi-watcher.ru/" class="text-[var(--color-text-secondary)] hover:text-white transition-colors" target="_blank" rel="noopener noreferrer">Taxi Watcher</a>
                    </div>
                </div>
            </div>

            <div class="mt-16 pt-8 border-t border-[var(--color-border)] flex flex-col sm:flex-row justify-between items-center text-sm text-[var(--color-text-secondary)]">
                <p>2024-2025 Летучка AI. Design by <a href="https://dprofile.ru/case/106507/letucka-ai-servis-dlia-generacii-testov/" target="_blank" rel="noopener noreferrer" class="text-[var(--color-text-secondary)] hover:text-white transition-colors">Kozak</a></p>
                <div class="flex items-center space-x-6 text-xl mt-4 sm:mt-0">
                    <a href="https://t.me/LetychkaRobot" target="_blank" rel="noopener noreferrer" class="hover:text-white transition-colors" title="Telegram">
                        <i class="fab fa-telegram"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Оверлей загрузки -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black/80 z-50 hidden items-center justify-center flex-col">
        <div class="w-16 h-16 border-4 border-t-[var(--color-accent-primary)] border-transparent rounded-full animate-spin"></div>
        <p id="loading-hint" class="mt-4 text-white">Генерация может занять до 1 минуты...</p>
    </div>
    
    <!-- Контейнер для всплывающих уведомлений -->
    <div id="glass-alert" role="alert" hidden>
        <p class="glass-alert__message"></p>
        <button class="glass-alert__close" aria-label="Закрыть">×</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggle = document.getElementById('pricing-toggle');
            const monthlyLabel = document.getElementById('monthly-label');
            const yearlyLabel = document.getElementById('yearly-label');
            const standardPriceEl = document.querySelector('[data-pricing="standard"]');
            const premiumPriceEl = document.querySelector('[data-pricing="premium"]');

            const prices = {
                standard: { monthly: 420, yearly: 2640 },
                premium:  { monthly: 590, yearly: 4800 }
            };

            const updatePrices = () => {
                const isMonthly = toggle.checked;
                
                monthlyLabel.style.opacity = isMonthly ? '1' : '0.5';
                yearlyLabel.style.opacity = isMonthly ? '0.5' : '1';
                const toggler = toggle.nextElementSibling.firstElementChild;
                const dot = toggler.firstElementChild;
                if (isMonthly) {
                    toggler.style.backgroundColor = 'var(--color-bg)';
                    dot.style.transform = 'translateX(0)';
                } else {
                    toggler.style.backgroundColor = 'var(--color-accent-primary)';
                    dot.style.transform = 'translateX(100%)';
                }

                if (isMonthly) {
                    standardPriceEl.innerHTML = `
                        <p class="text-6xl font-extrabold text-white">${prices.standard.monthly}<span class="text-2xl font-medium text-gray-400"> ₽/мес</span></p>
                        <p class="text-sm text-gray-400">&nbsp;</p>
                    `;
                } else {
                    const yearlyEquivalent = Math.round(prices.standard.yearly / 12);
                    standardPriceEl.innerHTML = `
                        <p class="text-6xl font-extrabold text-white">${yearlyEquivalent}<span class="text-2xl font-medium text-gray-400"> ₽/мес</span></p>
                        <p class="text-sm text-gray-400">При оплате за год – ${prices.standard.yearly} ₽</p>
                    `;
                }
                
                if (isMonthly) {
                    premiumPriceEl.innerHTML = `
                        <p class="text-6xl font-extrabold text-white">${prices.premium.monthly}<span class="text-2xl font-medium text-gray-400"> ₽/мес</span></p>
                        <p class="text-sm text-gray-400">&nbsp;</p>
                    `;
                } else {
                    const yearlyEquivalent = Math.round(prices.premium.yearly / 12);
                    premiumPriceEl.innerHTML = `
                        <p class="text-6xl font-extrabold text-white">${yearlyEquivalent}<span class="text-2xl font-medium text-gray-400"> ₽/мес</span></p>
                        <p class="text-sm text-gray-400">При оплате за год – ${prices.premium.yearly} ₽</p>
                    `;
                }
            };
            
            toggle.checked = false; 
            toggle.addEventListener('change', updatePrices);
            updatePrices();
        });
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        $(document).ready(function() {
            const openModalBtn = $('#open-register-modal-btn');
            const modal = $('#register-modal');
            const closeModalBtn = $('#close-modal-btn');
            const modalContent = $('#modal-content');
            const form = $('#quick-register-form');
            const errorDisplay = $('#form-error');

            const termsCheckbox = $('#terms-checkbox');
            const submitBtn = $('#submit-register-btn');

            termsCheckbox.on('change', function() {
                submitBtn.prop('disabled', !this.checked);
            });

            const cookieBanner = $('#cookie-banner');
            const acceptCookiesBtn = $('#accept-cookies-btn');

            if (!localStorage.getItem('cookies_accepted')) {
                cookieBanner.css({ 
                    'display': 'block',
                    'transform': 'translateY(20px)',
                    'opacity': '0',
                    'transition': 'transform 0.4s ease, opacity 0.4s ease'
                });
                setTimeout(() => {
                    cookieBanner.css({
                        'transform': 'translateY(0)',
                        'opacity': '1'
                    });
                }, 100);
            }

            acceptCookiesBtn.on('click', function() {
                localStorage.setItem('cookies_accepted', 'true');
                
                cookieBanner.css({
                    'transform': 'translateY(20px)',
                    'opacity': '0'
                });
                setTimeout(() => {
                    cookieBanner.hide();
                }, 400);
            });

            const isUserAuthenticated = "{{ username }}" !== "0" && "{{ username }}" !== "";

            const openModal = () => {
                modal.removeClass('hidden').addClass('flex');
                setTimeout(() => {
                    modalContent.removeClass('scale-95 opacity-0').addClass('scale-100 opacity-100');
                }, 10);
            };

            const closeModal = () => {
                modalContent.addClass('scale-95 opacity-0').removeClass('scale-100 opacity-100');
                setTimeout(() => {
                    modal.addClass('hidden').removeClass('flex');
                }, 300);
            };

            openModalBtn.on('click', function() {
                if (isUserAuthenticated) {
                    window.location.href = '/payment';
                } else {
                    openModal();
                }
            });

            closeModalBtn.on('click', closeModal);
            modal.on('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });

            $('button[data-trigger-modal="register"]').on('click', function() {
                if (isUserAuthenticated) {
                    window.location.href = '/payment';
                } else {
                    openModal();
                }
            });

            $('#quick-register-form').on('submit', function(event) {
                event.preventDefault();
                const form = $(this);
                const errorDisplay = $('#form-error');
                errorDisplay.hide().text('');

                const submitBtn = $('#submit-register-btn');
                const originalBtnText = submitBtn.text();
                const loadingBtnText = submitBtn.data('loading-text');
                
                const csrftoken = getCookie('csrftoken');

                $.ajax({
                    type: 'POST',
                    url: '/api/quick-register/',
                    headers: {
                        'X-CSRFToken': csrftoken
                    },
                    data: form.serialize(),
                    
                    beforeSend: function() {
                        submitBtn.prop('disabled', true);
                        submitBtn.html(`
                            <span class="flex items-center justify-center">
                                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                                <span>${loadingBtnText}</span>
                            </span>
                        `);
                    },
                    success: function(response) {
                        if (response.redirect) {
                            window.location.href = response.redirect;
                        }
                    },
                    error: function(xhr) {
                        let errorMessage = 'Произошла ошибка. Попробуйте снова.';
                        if (xhr.responseJSON && xhr.responseJSON.error) {
                            errorMessage = xhr.responseJSON.error;
                        }
                        errorDisplay.text(errorMessage).show();
                    },
                    complete: function() {
                        submitBtn.prop('disabled', false); 
                        submitBtn.text(originalBtnText);
                    }
                });
            });


            $('#registration-form').on('submit', function(event) {
                event.preventDefault();
                $('#alertContainer').html('').hide();
            });

        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const textInput = document.getElementById('text-input');
            const charCount = document.getElementById('char-count');
            const questionSlider = document.getElementById('question-slider');
            const questionCountDisplay = document.getElementById('question-count-display');
            const generateBtn = document.getElementById('generate-btn');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const resultContainer = document.getElementById('result-container');
            const testGrid = document.getElementById('test-grid');

            // --- КЛАСС ДЛЯ УВЕДОМЛЕНИЙ ---
            class GlassAlert {
                constructor() {
                    this.alert = document.getElementById('glass-alert');
                    this.messageEl = this.alert.querySelector('.glass-alert__message');
                    this.closeBtn = this.alert.querySelector('.glass-alert__close');
                    this.closeBtn.addEventListener('click', () => this.hide());
                    this.hideTimeout = null;
                }
                show(message, duration = 4000) {
                    clearTimeout(this.hideTimeout);
                    this.messageEl.textContent = message;
                    this.alert.hidden = false;
                    this.alert.classList.add('visible');
                    if (duration) {
                        this.hideTimeout = setTimeout(() => this.hide(), duration);
                    }
                }
                hide() {
                    this.alert.classList.remove('visible');
                    this.alert.addEventListener('transitionend', () => {
                        if (!this.alert.classList.contains('visible')) this.alert.hidden = true;
                    }, { once: true });
                }
            }
            const glassAlert = new GlassAlert();

            // --- ОБРАБОТЧИКИ СОБЫТИЙ ---
            textInput.addEventListener('input', () => {
                charCount.textContent = textInput.value.length;
            });

            questionSlider.addEventListener('input', () => {
                questionCountDisplay.textContent = questionSlider.value;
                // Анимация для счетчика
                questionCountDisplay.style.transform = 'scale(1.25)';
                setTimeout(() => { questionCountDisplay.style.transform = 'scale(1)'; }, 200);
            });

            generateBtn.addEventListener('click', handleGeneration);

            // --- ОСНОВНАЯ ЛОГИКА ---
            async function handleGeneration() {
                const text = textInput.value.trim();
                const questions = questionSlider.value;

                if (text.length < 10) {
                    glassAlert.show('Минимальная длина текста — 10 символов.');
                    return;
                }

                toggleLoading(true);
                try {
                    const response = await fetch('/api-non-auth/create-survey/', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRFToken': document.querySelector('[name="csrf-token"]').content
                        },
                        body: JSON.stringify({ text, questions })
                    });

                    const data = await response.json();
                    if (!response.ok || data.error) throw new Error(data.error || 'Ошибка сервера. Попробуйте позже.');

                    if (data.survey_id) {
                        window.location.href = `/c/${data.survey_id}/`;
                    } else {
                        throw new Error('Неверный формат ответа от сервера.');
                    }

                } catch (error) {
                    glassAlert.show(error.message);
                    toggleLoading(false);
                }
            }

            async function loadTests() {
                try {
                    const response = await fetch('/api/get-demo-tests/');
                    if (!response.ok) return;
                    const data = await response.json();
                    if (data.tests && data.tests.length > 0) {
                        renderTests(data.tests);
                    }
                } catch (error) {
                    console.error('Ошибка загрузки демо-тестов:', error);
                }
            }

            function renderTests(tests) {
                resultContainer.style.display = 'block';
                testGrid.innerHTML = ''; // Очищаем перед рендером
                tests.forEach(test => {
                    const testCard = document.createElement('div');
                    testCard.className = 'bg-[var(--color-bg)] p-4 rounded-2xl flex justify-between items-center';
                    testCard.innerHTML = `
                        <p class="font-semibold text-white truncate pr-4">${test.title || 'Тест по вашему тексту'}</p>
                        <a href="/c/${test.survey_id}/" class="flex-shrink-0 bg-[var(--color-accent-primary)] text-sm text-white px-4 py-2 font-bold rounded-full transition hover:opacity-80">
                            Открыть
                        </a>
                    `;
                    testGrid.appendChild(testCard);
                });
            }
            
            function toggleLoading(isLoading) {
                const originalText = 'Сгенерировать тест';
                loadingOverlay.style.display = isLoading ? 'flex' : 'none';
                generateBtn.disabled = isLoading;
                generateBtn.textContent = isLoading ? generateBtn.dataset.loadingText : originalText;
            }

            loadTests();
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const statsSection = document.getElementById('stats');
            if (!statsSection) return;

            const counters = statsSection.querySelectorAll('[data-target]');
            let hasAnimated = false;

            const animateCounters = () => {
                if (hasAnimated) return;
                hasAnimated = true;

                counters.forEach(counter => {
                    const target = +counter.dataset.target;
                    const originalText = counter.innerText;
                    const suffix = originalText.replace(/[0-9]/g, '');
                    
                    counter.innerText = '0' + suffix;
                    let current = 0;
                    
                    const updateCounter = () => {
                        const increment = target / 100;
                        current += increment;

                        if (current < target) {
                            counter.innerText = Math.ceil(current).toLocaleString('ru-RU') + suffix;
                            requestAnimationFrame(updateCounter);
                        } else {
                            counter.innerText = target.toLocaleString('ru-RU') + suffix;
                        }
                    };
                    
                    requestAnimationFrame(updateCounter);
                });
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounters();
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            observer.observe(statsSection);
        });
    </script>

    <script>
        // Тумблер контента в the-choice
        document.addEventListener('DOMContentLoaded', () => {
            const toggle = document.getElementById('choice-toggle');
            const routineCard = document.getElementById('routine-card');
            const letuchkaCard = document.getElementById('letuchka-card');
            const routineLabel = document.getElementById('routine-label');
            const letuchkaLabel = document.getElementById('letuchka-label');

            if (toggle && routineCard && letuchkaCard) {
                const updateView = () => {
                    const isLetuchka = toggle.checked;
                    routineCard.classList.toggle('hidden', isLetuchka);
                    letuchkaCard.classList.toggle('hidden', !isLetuchka);
                    routineLabel.classList.toggle('opacity-50', isLetuchka);
                    letuchkaLabel.classList.toggle('opacity-50', !isLetuchka);
                };
                toggle.addEventListener('change', updateView);
                updateView();
            }
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const header = document.getElementById('main-header');
            const burgerBtn = document.getElementById('burger-btn');
            const burgerIcon = document.getElementById('burger-icon');
            const mobileMenu = document.getElementById('mobile-menu');

            if (header) {
                const handleScroll = () => {
                    header.classList.toggle('scrolled', window.scrollY > 20);
                };
                window.addEventListener('scroll', handleScroll);
                handleScroll();
            }

            if (burgerBtn && mobileMenu && burgerIcon) {
                burgerBtn.addEventListener('click', () => {
                    const isOpened = mobileMenu.classList.toggle('menu-open');
                    document.body.style.overflow = isOpened ? 'hidden' : '';
                    burgerIcon.classList.toggle('fa-bars', !isOpened);
                    burgerIcon.classList.toggle('fa-times', isOpened);
                });
            }
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const animatedTextSpan = document.getElementById('animated-headline-text');
            const cursorSpan = document.getElementById('animated-headline-cursor');
            if (!animatedTextSpan || !cursorSpan) return;

            const themes = [
                { text: "конспекту лекции истории Средних веков ", gradient: "linear-gradient(45deg, #f06195, #ee4a7b)" },
                { text: "статье о принципах SOLID ", gradient: "linear-gradient(45deg, #79EF66, #38ef7d)" },
                { text: "параграфу из учебника по биологии ", gradient: "linear-gradient(45deg, #00c6ff, #0072ff)" },
                { text: "правилам техники безопасности ", gradient: "linear-gradient(45deg, #fceabb, #f8b500)" },
                { text: "главе из книги по маркетингу ", gradient: "linear-gradient(45deg, #616DF0, #a98eff)" }
            ];

            let themeIndex = 0;
            let letterIndex = 0;
            let isDeleting = false;

            const typewriter = () => {
                const currentTheme = themes[themeIndex];
                let displayText = '';

                // Устанавливаем градиент для текущей темы
                animatedTextSpan.style.background = currentTheme.gradient;
                animatedTextSpan.style.webkitBackgroundClip = 'text';
                animatedTextSpan.style.backgroundClip = 'text';
                
                if (isDeleting) {
                    displayText = currentTheme.text.substring(0, letterIndex--);
                } else {
                    displayText = currentTheme.text.substring(0, letterIndex++);
                }
                
                animatedTextSpan.textContent = displayText;

                let typeSpeed = isDeleting ? 40 : 90;

                if (!isDeleting && letterIndex === currentTheme.text.length) {
                    typeSpeed = 2500;
                    isDeleting = true;
                } else if (isDeleting && letterIndex === 0) {
                    isDeleting = false;
                    themeIndex = (themeIndex + 1) % themes.length;
                    typeSpeed = 600;
                }

                setTimeout(typewriter, typeSpeed);
            };

            typewriter();
        });
    </script>

</body>
</html>