<!DOCTYPE html>
<html lang="ru">
<head>
    {% include 'components/meta_tags.html' %}
    <meta name="description" content="–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–∏–Ω—É—Ç—ã —Å –ø–æ–º–æ—â—å—é –ò–ò. –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –∫–≤–∏–∑—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º.">
    <meta name="keywords" content="—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤, —Ç–µ—Å—Ç—ã —Å –ò–ò, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–≤–∏–∑—ã, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º, —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ–Ω–ª–∞–π–Ω —Ç–µ—Å—Ç—ã">
    <meta name="author" content="–õ–µ—Ç—É—á–∫–∞/Letychka by Kozak Developer">
    <meta property="og:title" content="–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ —Å –ò–ò - –õ–µ—Ç—É—á–∫–∞">
    <meta property="og:description" content="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ò–ò –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –ë—ã—Å—Ç—Ä–æ, —É–¥–æ–±–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ!">
    <meta name="csrf-token" content="{{ csrf_token }}">
    {% load static %}
    <link rel="shortcut icon" href="{% static 'img/logo.png' %}" type="image/png">
    
    {% include 'components/linker.html' %}
    <link rel="stylesheet" href="{% static 'css/upload-styles.css' %}?v=1.7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){
            m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
        })(window, document,'script','https://mc.yandex.ru/metrika/tag.js', 'ym');
        ym(98829160, 'init', {webvisor:true, clickmap:true, accurateTrackBounce:true, trackLinks:true});
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/98829160" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>

<style>
    footer {
        margin-top: 0;
    }
</style>

<body class="bg-create">
    <div id="toast" class="toast hidden">
        <span id="toast-message">–°–æ–æ–±—â–µ–Ω–∏–µ</span>
    </div>

    <script src="{% static 'js/second-loader.js' %}"></script>

    {% include 'components/loader.html' %}
    
    <div id="overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;">
        <div class="loader-container" style="display: flex; justify-content: center; align-items: center; height: 100%;">
            <span class="loader"></span>
        </div>
    </div>
    
    <div id="page-container" class="fade" style="display: none;">
        {% include 'header.html' %}

        <div class="main-content-create">
            {% if total_tests == 0 %}
                <div class="onboarding-welcome">
                    <h1 class="welcome-title">–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ –∑–Ω–∞–Ω–∏—è –≤ —Ç–µ—Å—Ç—ã. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ.</h1>
                    <p class="welcome-subtitle">
                        –≠—Ç–æ –õ–µ—Ç—É—á–∫–∞ ‚Äî –í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤. <br>
                        –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –∏–∑ –ª–µ–∫—Ü–∏–∏ –∏–ª–∏ —Å—Ç–∞—Ç—å–∏ –≤ –ø–æ–ª–µ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.
                    </p>
                    <div class="welcome-arrow">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                </div>
                <div class="inspiration-container">
                    <div class="inspiration-card" data-inspiration-text="–¢–µ–æ—Ä–µ–º–∞ –ü–∏—Ñ–∞–≥–æ—Ä–∞ –≥–ª–∞—Å–∏—Ç, —á—Ç–æ –≤ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–º —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–µ –∫–≤–∞–¥—Ä–∞—Ç –¥–ª–∏–Ω—ã –≥–∏–ø–æ—Ç–µ–Ω—É–∑—ã —Ä–∞–≤–µ–Ω —Å—É–º–º–µ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –¥–ª–∏–Ω –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö —Å—Ç–æ—Ä–æ–Ω. –≠—Ç–æ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫: a¬≤ + b¬≤ = c¬≤, –≥–¥–µ c –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–ª–∏–Ω—É –≥–∏–ø–æ—Ç–µ–Ω—É–∑—ã, –∞ a –∏ b ‚Äî –¥–ª–∏–Ω—ã –¥–≤—É—Ö –¥—Ä—É–≥–∏—Ö —Å—Ç–æ—Ä–æ–Ω, –∏–ª–∏ –∫–∞—Ç–µ—Ç–æ–≤.">
                        <h4>üìö –¢–µ—Å—Ç –ø–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—É</h4>
                        <span>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ —É—Å–≤–æ–µ–Ω –º–∞—Ç–µ—Ä–∏–∞–ª</span>
                    </div>
                    <div class="inspiration-card" data-inspiration-text="–ö–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã: 1. –í—Ç–æ—Ä–∂–µ–Ω–∏–µ –≤ –ü–æ–ª—å—à—É (1939). 2. –ë–∏—Ç–≤–∞ –∑–∞ –ë—Ä–∏—Ç–∞–Ω–∏—é (1940). 3. –ù–∞–ø–∞–¥–µ–Ω–∏–µ –Ω–∞ –ü–µ—Ä–ª-–•–∞—Ä–±–æ—Ä (1941). 4. –°—Ç–∞–ª–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –±–∏—Ç–≤–∞ (1942-1943). 5. –í—ã—Å–∞–¥–∫–∞ –≤ –ù–æ—Ä–º–∞–Ω–¥–∏–∏ (1944). 6. –ö–∞–ø–∏—Ç—É–ª—è—Ü–∏—è –ì–µ—Ä–º–∞–Ω–∏–∏ (1945).">
                        <h4>üìú –í–æ–ø—Ä–æ—Å—ã –ø–æ –¥–∞—Ç–∞–º –∏ —Ñ–∞–∫—Ç–∞–º</h4>
                        <span>–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–ª–∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã</span>
                    </div>
                    <div class="inspiration-card" data-inspiration-text="–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Agile-–º–∞–Ω–∏—Ñ–µ—Å—Ç–∞: 1. –õ—é–¥–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤–∞–∂–Ω–µ–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. 2. –†–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ–¥—É–∫—Ç –≤–∞–∂–Ω–µ–µ –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. 3. –°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º –≤–∞–∂–Ω–µ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —É—Å–ª–æ–≤–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. 4. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤–∞–∂–Ω–µ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–º—É –ø–ª–∞–Ω—É.">
                        <h4>üí° –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏</h4>
                        <span>–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–Ω—è—Ç–∏—è–º</span>
                    </div>
                    <div class="inspiration-card" data-inspiration-text="">
                        <h4>‚úçÔ∏è –ù–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞</h4>
                        <span>–î–ª—è –≤–∞—à–∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–¥–µ–π</span>
                    </div>
                </div>
            {% else %}
                <div class="welcome-return">
                    <h1 class="welcome-title">–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º!</h1>
                    <p>–ì–æ—Ç–æ–≤—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç?</p>
                </div>
            {% endif %}
        </div>

        {% if tests_today == 0 %}
            <div class="container notice-banner deactivated">
                <div class="icon-wrapper">
                    <i class="fas fa-battery-empty"></i>
                </div>
                <div class="text-wrapper">
                    <h3>–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
                    <p>
                        –°–Ω–∏–º–∏—Ç–µ –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å —Ç–∞—Ä–∏—Ñ–æ–º <strong>–ü—Ä–µ–º–∏—É–º</strong>: –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ñ–∞–π–ª—ã,
                        –ø–æ–ª—É—á–∞–π—Ç–µ –≥–ª—É–±–æ–∫—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –±–µ–∑ –æ–≥–ª—è–¥–∫–∏ –Ω–∞ –ª–∏–º–∏—Ç—ã.
                    </p>
                </div>
                <a class="button-medium button-accent" href="{% url 'payment' %}">
                    <div><i class="fas fa-unlock-alt"></i> <p>–°–Ω—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</p></div>
                </a>
            </div>
        {% endif %}

        {% if subscription_status != 'active' %}
            <div class="container notice-banner deactivated">
                <div class="icon-wrapper">
                    <i class="fas fa-bolt"></i>
                </div>
                <div class="text-wrapper">
                    <h3>–í–∞—à–∏ –ü—Ä–µ–º–∏—É–º-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã</h3>
                    <p>
                        –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É, —á—Ç–æ–±—ã —Å–Ω–æ–≤–∞ <strong>–ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –í–∞—à–∏ —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏&nbsp;–¥–æ–∫—É–º–µ–Ω—Ç—ã –≤&nbsp;—Ç–µ—Å—Ç—ã –∑–∞&nbsp;—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–µ–∫—É–Ω–¥—ã</strong>, –ø–æ–ª—É—á–∞—Ç—å —Ñ–∏–¥–±—ç–∫ –æ—Ç&nbsp;–ò–ò, –∞&nbsp;—Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ–≥–ª—è–¥–∫–∏ –Ω–∞&nbsp;–ª–∏–º–∏—Ç—ã.
                    </p>
                </div>
                <a class="button-medium button-accent" href="{% url 'payment' %}">
                    <div><i class="fas fa-rocket"></i> <p>–û—Ñ–æ—Ä–º–∏—Ç—å –ü—Ä–µ–º–∏—É–º</p></div>
                </a>
            </div>
        {% endif %}

        <div class="container glass-metrics-container">
            <div class="metrics-scroll-box">
                <div class="metric-ios active">
                    <span class="metric-title">–°–æ–∑–¥–∞–Ω–æ –í–∞–º–∏</span>
                    <span class="metric-badge"><strong>{{ total_tests }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω–æ</span>
                    <span class="metric-badge"><strong>{{ passed_tests }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–°–æ–∑–¥–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å–µ–≥–æ–¥–Ω—è</span>
                    <span class="metric-badge"><strong>{{ today_uploads }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–§–∏–¥–±—ç–∫–∞ –æ—Ç –ò–ò</span>
                    <span class="metric-badge"><strong>{{ feedback_count }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞–Ω–æ</span>
                    <span class="metric-badge"><strong>{{ total_questions }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–í–æ–ø—Ä–æ—Å–æ–≤ –≤ —Å—Ä–µ–¥–Ω–µ–º</span>
                    <span class="metric-badge"><strong>{{ avg_questions }}</strong> –Ω–∞ —Ç–µ—Å—Ç</span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–û—Ç–≤–µ—Ç–æ–≤ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è</span>
                    <span class="metric-badge"><strong>{{ total_answers }}</strong> —Ä–∞–∑</span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–°—Ä–µ–¥–Ω–µ –≤–µ—Ä–Ω–æ</span>
                    <span class="metric-badge"><strong>{{ avg_correct_answers|default:"‚Äì" }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–ú–æ–¥–µ–ª–µ–π –æ–ø—Ä–æ–±–æ–≤–∞–Ω–æ</span>
                    <span class="metric-badge"><strong>{{ unique_models_count }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–¢–µ—Å—Ç–æ–≤ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ</span>
                    <span class="metric-badge"><strong>{{ tests_this_month }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–§–∏–¥–±—ç–∫–∞ –æ—Ç –ò–ò –∑–∞ –Ω–µ–¥–µ–ª—é</span>
                    <span class="metric-badge"><strong>{{ feedback_last_week }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–ò–ò –æ—Ü–µ–Ω–∏–≤–∞–ª</span>
                    <span class="metric-badge"><strong>{{ percent_with_feedback }}</strong></span>
                </div>
                <div class="metric-ios">
                    <span class="metric-title">–†–µ—à—ë–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤</span>
                    <span class="metric-badge"><strong>{{ tests_created_and_passed }}</strong></span>
                </div>
            </div>
        </div>

        <div class="container" id="file-preview-container" style="display: none;">
            <div id="attached-file-name">
                ‚úÖ –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω —Ñ–∞–π–ª: <strong></strong>
            </div>
            <div class="file-preview">
                <div class="file-icon">
                    <img src="{% static 'img/icon-file3d.png' %}" alt="File Icon">
                </div>
                <div class="file-info">
                    <div class="file-name"><strong id="preview-file-name"></strong></div>
                    <div class="file-size"><strong id="preview-file-size"></strong></div>
                    <div class="button-medium" id="remove-file-button" style="display: none;" onclick="removeUploadedFile()">
                        <div>
                            <img src="{% static 'img/icon-delete.png' %}" alt="–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª">
                            <p>–û—Ç–∫—Ä–µ–ø–∏—Ç—å</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {% if subscription_level < 2 %}
            <div class="container locked-upload-integrated">
                <div class="icon-wrapper">
                    <img src="{% static 'img/icon-diamond.png' %}" alt="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è" class="feature-icon">
                </div>
                <div class="text-wrapper">
                    <h3>–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Å—Ç–∞—Ä—Ç–∞</h3>
                    <p>
                        –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—ã–±–∏—Ä–∞—é—Ç <strong>–∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç</strong>. <br><br>
                        –≠—Ç–æ –≤—ã–≥–æ–¥–Ω–µ–µ, —á–µ–º –ø–ª–∞—Ç–∏—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü. <a href="/available-plans/" rel="noopener noreferrer">–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ</a>, —á—Ç–æ –í—ã –ø–æ–ª—É—á–∏—Ç–µ.
                    </p>
                </div>
                <a class="button-medium button-accent" href="{% url 'payment' %}">
                    <div><i class="fas fa-rocket"></i> <p>–í—ã–±—Ä–∞—Ç—å –ø–ª–∞–Ω</p></div>
                </a>
            </div>
        {% else %}

        {% endif %}

        <style>
            .features-container {
                margin-top: 20px;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 24px;
            }
            .feature-block {
                position: relative;
                overflow: hidden;
                background: rgba(93, 86, 110, 0.12);
                border-radius: 18px;
                padding: 24px;
                text-align: center;
                transition: all 0.25s ease;
                text-decoration: none;
            }
            .feature-block:hover {
                transform: translateY(-4px);
                background: rgba(93, 86, 110, 0.2);
            }
            .feature-icon {
                width: 48px;
                height: 48px;
                margin: 0 auto 16px;
            }
            .feature-block h3 {
                font-size: 16px;
                font-weight: 600;
                margin-bottom: 8px;
                color: #ffffff;
            }
            .feature-block p {
                font-size: 13px;
                color: #c0c0c0;
                line-height: 1.6;
                margin: 0;
            }

            /* –°–¢–ò–õ–ò –î–õ–Ø –ü–†–ï–ú–ò–£–ú-–ó–ê–ì–õ–£–®–ï–ö –°–¢–ê–†–¢–û–í–´–ú */
            .feature-badge {
                position: absolute;
                top: 12px;
                right: -40px;
                background-color: var(--color-accent-secondary);
                color: white;
                padding: 4px 40px;
                font-size: 10px;
                font-weight: 700;
                text-transform: uppercase;
                transform: rotate(45deg);
                box-shadow: 0 0 10px rgba(0,0,0,0.5);
            }
            .feature-block.premium-feature {
                opacity: 0.7;
            }
            .feature-block.premium-feature:hover {
                opacity: 1;
            }

            .feature-block.quick-link h3 {
                color: var(--secondary-color);
            }
            .feature-block.quick-link .accent {
                color: var(--primary-color);
            }
        </style>

        <div class="container features-container">

        {% if subscription_level >= 2 %}
            <div class="feature-block quick-link">
                <img src="{% static 'img/icon-create.png' %}" alt="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è" class="feature-icon">
                <h3>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ —Ñ–∞–π–ª–∞</h3>
                <p>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –í–∞—à–∏ Word/PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤.</p>
                <p class="accent">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–∞–π–ª –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞</p>
            </div>
            <a href="{% url 'profile' username %}" class="feature-block quick-link">
                <img src="{% static 'img/icon-analytics.png' %}" alt="–ê–Ω–∞–ª–∏–∑" class="feature-icon">
                <div class="feature-badge">–ù–û–í–û–ï</div>
                <h3>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
                <p>–í–∞—à —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏&nbsp;—Ç—Ä–µ–∫–∏–Ω–≥—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.</p>
                <p class="accent">–û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥ ‚Üí</p>
            </a>
            <a href="{% url 'history' %}" class="feature-block quick-link">
                <img src="{% static 'img/icon-link.png' %}" alt="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" class="feature-icon">
                <h3>–ò—Å—Ç–æ—Ä–∏—è –∏ –≠–∫—Å–ø–æ—Ä—Ç</h3>
                <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏, –¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–∞–º–∏ –∏–ª–∏ —Å–∫–∞—á–∏–≤–∞–π—Ç–µ –≤&nbsp;PDF.</p>
                <p class="accent">–ü–µ—Ä–µ–π—Ç–∏ –∫ –º–æ–∏–º —Ç–µ—Å—Ç–∞–º</p>
            </a>
        {% else %}
            <div class="feature-block premium-feature">
                <div class="feature-badge">–ü–†–ï–ú–ò–£–ú</div>
                <img src="{% static 'img/icon-create.png' %}" alt="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ —Ñ–∞–π–ª–æ–≤" class="feature-icon">
                <h3>–≠–∫–æ–Ω–æ–º—å—Ç–µ —á–∞—Å—ã, –∞ –Ω–µ –º–∏–Ω—É—Ç—ã</h3>
                <p class="accent">–£—Å—Ç–∞–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é? –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ª–µ–∫—Ü–∏—é –∏–ª–∏ –ø–∞—Ä–∞–≥—Ä–∞—Ñ —Ü–µ–ª–∏–∫–æ–º. –ò–ò —Å–¥–µ–ª–∞–µ—Ç —Ç–µ—Å—Ç –∑–∞ –≤–∞—Å.</p>
                <a href="/payment">–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Ä—É—Ç–∏–Ω—É –≤ –º–∞–≥–∏—é</a>
            </div>
            
            <div class="feature-block premium-feature">
                <div class="feature-badge">–ü–†–ï–ú–ò–£–ú</div>
                <img src="{% static 'img/icon-analytics.png' %}" alt="–ê–Ω–∞–ª–∏–∑" class="feature-icon">
                <h3>–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ç–æ, —á—Ç–æ —Å–∫—Ä—ã—Ç–æ</h3>
                <p class="accent">–û–±—ã—á–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ –ª–≥—É—Ç. –ù–∞—à–∏ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ–∫–∞–∂—É—Ç, –∫–∞–∫–∏–µ —Ç–µ–º—ã "–∑–∞–ø–∞–¥–∞—é—Ç" —É –≤—Å–µ–≥–æ –∫–ª–∞—Å—Å–∞, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —É –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤.</p>
                <a href="/payment">–û—Ç–∫—Ä—ã—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É</a>
            </div>
            
            <div class="feature-block">
                <img src="{% static 'img/icon-link.png' %}" alt="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" class="feature-icon">
                <h3>–î–µ–ª–∏—Ç–µ—Å—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ</h3>
                <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —É—á–µ–Ω–∏–∫–∞–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–Ω–ª–∞–π–Ω-—Ç–µ—Å—Ç –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –∫ –ø–µ—á–∞—Ç–∏ PDF-—Ñ–∞–π–ª.</p>
            </div>

        {% endif %}
    </div>
                
        <section class="container" id="recent-history-container">
            <h3><i class="fas fa-history"></i> –ù–µ–¥–∞–≤–Ω–∏–µ —Ç–µ—Å—Ç—ã</h3>
            <div id="history-content">
                <!-- –°—é–¥–∞ JavaScript –≤—Å—Ç–∞–≤–∏—Ç –ø—Ä–µ–ª–æ–∞–¥–µ—Ä, —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—É—Å—Ç–æ—Ç–µ -->
            </div>
        </section>
        
        <div class="container" id="block-generate">
            <form id="text-form" method="post" onsubmit="event.preventDefault(); submitText();">
                {% csrf_token %}
                <div class="input-area">
                    <textarea id="user-text" rows="4" cols="60" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–¥–µ—Å—å —Ç–µ–º—É, —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –∏–ª–∏ —Ç–µ–∫—Å—Ç –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏..."></textarea>
                    
                    <div class="input-buttons-wrapper">
                        {% if subscription_level > 1 and subscription_level < 50 %}
                            <button type="button" class="attach-button" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª" onclick="document.getElementById('hidden-file-input').click();">
                                <i class="fas fa-paperclip"></i>
                            </button>
                        {% else %}
                            <a id="premium-upload-trigger" class="attach-button" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">
                                <i class="fas fa-paperclip"></i>
                            </a>
                        {% endif %}
                        <button type="button" class="send-button" title="–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç" onclick="submitText()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>

                <div class="controls-toolbar">
                    <div class="slider-container">
                        <p id="question-slider-text"><span id="slider-value">5</span> –≤–æ–ø—Ä–æ—Å–æ–≤</p>
                        {% if subscription_level > 0 and subscription_level < 50 %}
                        <input type="range" id="question-slider" class="custom-slider" min="1" max="15" value="5" style="display: none;">
                        {% else %}
                        <input type="range" id="question-slider" class="custom-slider" min="1" max="7" value="5" style="display: none;">
                        {% endif %}
                    </div>
                    <div id="char-count">0 / 16384</div>
                </div>
                <div class="toolbar-actions">
                    <a class="button-medium" href="{% url 'history' %}" title="–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π">
                        <div><i class="fas fa-history"></i><p>–ò—Å—Ç–æ—Ä–∏—è</p></div>
                    </a>
                    <a class="button-medium" href="{% url 'payment' %}" title="–í–∞—à–∏ –ª–∏–º–∏—Ç—ã">
                        <div><i class="fas fa-star"></i><p><span>{{ tests_today }}</span></p></div>
                    </a>
                </div>
                
                {% if subscription_level > 1 and subscription_level < 50 %}
                    <input type="file" id="hidden-file-input" accept=".pdf, .doc, .docx, .txt" style="display: none;" onchange="handleFiles(this.files)">
                {% endif %}
            </form>
        </div>

        <script>
            document.querySelectorAll('.faq-question').forEach(item => {
                item.addEventListener('click', () => {
                    const answer = item.nextElementSibling;
            
                    if (answer.style.display === "block") {
                        answer.style.display = "none";
                    } else {
                        answer.style.display = "block";
                    }
                });
            });
        </script>        
    </div>
    {% include 'footer-s.html' %}

    <div id="limit-exceeded-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-battery-empty"></i>
            </div>
            <h3>–õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω</h3>
            <p id="limit-modal-text">
                –í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Ç–∞—Ä–∏—Ñ–µ ¬´–°—Ç–∞—Ä—Ç–æ–≤—ã–π¬ª.
                –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ü—Ä–µ–º–∏—É–º, —á—Ç–æ–±—ã —Å–Ω—è—Ç—å –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.
            </p>
            <div class="modal-actions">
                <button id="close-limit-modal-btn" class="button-medium">–ü–æ–∑–∂–µ</button>
                <a href="{% url 'payment' %}" class="button-medium button-accent">
                    <div>
                        <i class="fas fa-rocket"></i>
                        <p>–°–Ω—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <script src="{% static 'js/main.js' %}?v=1.3"></script>
    <script src="{% static 'js/auto-scroll.js' %}"></script>

    <!-- –ú–æ–¥–∞–ª–∫–∞ logout -->
    <div id="premium-upload-modal" class="action-modal">
        <div class="action-modal__content">
            <div class="action-modal__header">
                <div class="action-modal__icon">
                    <i class="fas fa-gem"></i>
                </div>
                <h3>–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ü—Ä–µ–º–∏—É–º</h3>
            </div>
            <div class="action-modal__body">
                <p>–†–∞—Å—à–∏—Ä—å—Ç–µ —Å–≤–æ–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ. <br><br>–°–∫–∏–¥–∫–∞ 10% –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –∑–∞ 3 –º–µ—Å—è—Ü–∞!</p>
            </div>
            <div class="action-modal__footer">
                <div id="action-modal-cancel" class="button-medium"><div><p>–ü–æ–∑–∂–µ</p></div></div>
                <div id="action-modal-confirm" class="button-medium button-accent"><div><p>–ö—É–ø–∏—Ç—å</p></div></div>
            </div>
        </div>
    </div>

    <script>
        function setupActionModal(modalId, triggerId, confirmId, cancelId, confirmUrl) {
            const modal = document.getElementById(modalId);
            const triggerButton = document.getElementById(triggerId);
            const confirmButton = document.getElementById(confirmId);
            const cancelButton = document.getElementById(cancelId);

            if (!modal || !triggerButton || !confirmButton || !cancelButton) {
                console.error('Modal setup failed: one or more elements not found.');
                return;
            }

            const showModal = () => modal.classList.add('is-visible');
            const hideModal = () => modal.classList.remove('is-visible');

            triggerButton.addEventListener('click', showModal);
            cancelButton.addEventListener('click', hideModal);

            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    hideModal();
                }
            });

            confirmButton.addEventListener('click', () => {
                window.location.href = confirmUrl;
            });
        }

        setupActionModal(
            'premium-upload-modal', 
            'premium-upload-trigger',
            'action-modal-confirm',
            'action-modal-cancel',
            "{% url 'payment' %}"
        );
    </script>

    <script>
    // –§–∏–∫—Å –¥–ª—è iOS - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
    document.addEventListener('DOMContentLoaded', function() {
        const textarea = document.getElementById('user-text');
        
        textarea.addEventListener('focus', function() {
            document.querySelector('meta[name="viewport"]').content = 
                'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no';
        });
        
        textarea.addEventListener('blur', function() {
            document.querySelector('meta[name="viewport"]').content = 
                'width=device-width, initial-scale=1.0';
        });
        
        textarea.addEventListener('input', function() {
            document.getElementById('char-count').textContent = 
                this.value.length + '/ 16384';
        });
        
        const slider = document.getElementById('question-slider');
        slider.addEventListener('input', function() {
            document.getElementById('question-count').textContent = 
                this.value + (this.value == 1 ? ' –≤–æ–ø—Ä–æ—Å' : ' –≤–æ–ø—Ä–æ—Å–æ–≤');
        });
    });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const inspirationCards = document.querySelectorAll('.inspiration-card');
        const userText = document.getElementById('user-text');
        const textForm = document.getElementById('text-form');

        inspirationCards.forEach(card => {
                card.addEventListener('click', () => {
                    const inspirationText = card.dataset.inspirationText;
                    
                    userText.value = inspirationText;
                    
                    userText.dispatchEvent(new Event('input', { bubbles: true }));
                    
                    setTimeout(() => {
                        userText.focus();
                    }, 500);
                });
            });
        });
    </script>
    
    <script>
        let current = 0;
        const metrics = document.querySelectorAll('.metric-ios');

        function cycleMetrics() {
            metrics[current].classList.remove('active');
            current = (current + 1) % metrics.length;
            metrics[current].classList.add('active');
        }

        setInterval(cycleMetrics, 5000);
    </script>
</body>
</html>
